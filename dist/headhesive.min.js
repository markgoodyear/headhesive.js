/*!
 * headhesive v1.2.0 - An on-demand sticky header
 * Url: http://markgoodyear.com/labs/headhesive
 * Copyright (c) Mark Goodyear — @markgdyr — http://markgoodyear.com
 * License: MIT
 */
!function(t,e,s){"use strict";var i=function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]="object"==typeof e[s]?i(t[s],e[s]):e[s]);return t},n=function(t,e){var s,i,n,o=Date.now||function(){return(new Date).getTime()},a=null,l=0,h=function(){l=o(),a=null,n=t.apply(s,i),s=i=null};return function(){var c=o(),r=e-(c-l);return s=this,i=arguments,0>=r?(clearTimeout(a),a=null,l=c,n=t.apply(s,i),s=i=null):a||(a=setTimeout(h,r)),n}},o=function(){return t.pageYOffset!==s?t.pageYOffset:(e.documentElement||e.body.parentNode||e.body).scrollTop},a=function(t){for(var e=0;t;)e+=t.offsetTop,t=t.offsetParent;return e},l=function(t){return t&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(t):{}},h=function(s,n){"querySelector"in e&&"addEventListener"in t&&(this.pastOffset=!1,this.options={offset:300,clone:!0,classes:{clone:"headhesive",stick:"headhesive--stick",unstick:"headhesive--unstick"},throttle:250,onInit:function(){},onStick:function(){},onUnstick:function(){},onDestroy:function(){}},this.elem="string"==typeof s?e.querySelector(s):s,n=i(n,l(this.elem.dataset.headhesive)),this.options=i(this.options,n),this.init())};h.prototype={constructor:h,init:function(){this.options.clone?(this.targetElem=this.elem.cloneNode(!0),this.targetElem.className+=" "+this.options.classes.clone,this.targetElem.removeAttribute("data-headhesive"),e.body.insertBefore(this.targetElem,e.body.firstChild)):(this.targetElem=this.elem,this.setTopSpacing=!0,this.setTopSpacingHeight=this.targetElem.offsetHeight+"px"),this.scrollOffset="string"==typeof this.options.offset?a(e.querySelector(this.options.offset)):this.scrollOffset=this.options.offset,this._throttleUpdate=n(this.update.bind(this),this.options.throttle),t.addEventListener("scroll",this._throttleUpdate,!1),this.options.onInit.call(this,this)},destroy:function(){this.clone&&e.body.removeChild(this.targetElem),t.removeEventListener("scroll",this._throttleUpdate),this.options.onDestroy.call(this,this)},stick:function(){this.pastOffset||(this.setTopSpacing&&(e.documentElement.style.marginTop=this.setTopSpacingHeight),this.targetElem.className=this.targetElem.className.replace(new RegExp("(^|\\s)*"+this.options.classes.unstick+"(\\s|$)*","g")," "),this.targetElem.className=this.targetElem.className.replace(new RegExp("(^|\\s)*animating-out(\\s|$)*","g")," "),this.targetElem.className+=" "+this.options.classes.stick,this.pastOffset=!0,this.options.onStick.call(this,this))},unstick:function(){this.pastOffset&&(this.setTopSpacing&&(e.documentElement.style.marginTop=0),this.targetElem.className=this.targetElem.className.replace(new RegExp("(^|\\s)*"+this.options.classes.stick+"(\\s|$)*","g")," "),this.targetElem.className+=" "+this.options.classes.unstick,this.pastOffset=!1,this.options.onUnstick.call(this,this))},update:function(){o()>this.scrollOffset?this.stick():this.unstick()}},t.Headhesive=h}(window,document);