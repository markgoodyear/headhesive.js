/*!
 * headhesive v1.1.1 - An on-demand sticky header
 * Url: http://markgoodyear.com/labs/headhesive
 * Copyright (c) Mark Goodyear — @markgdyr — http://markgoodyear.com
 * License: MIT
 */
!function(t,e,s){"use strict";function i(t){for(var e=0;t;)e+=t.offsetTop,t=t.offsetParent;return e}var o=function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]="object"==typeof e[s]?o(t[s],e[s]):e[s]);return t},n=function(t,e){var s,i,o,n=Date.now||function(){return(new Date).getTime()},l=null,c=0,h=function(){c=n(),l=null,o=t.apply(s,i),s=i=null};return function(){var r=n(),f=e-(r-c);return s=this,i=arguments,0>=f?(clearTimeout(l),l=null,c=r,o=t.apply(s,i),s=i=null):l||(l=setTimeout(h,f)),o}},l=function(){return t.pageYOffset!==s?t.pageYOffset:(e.documentElement||e.body.parentNode||e.body).scrollTop},c=function(s,i){"querySelector"in e&&"addEventListener"in t&&(this.visible=!1,this.options={offset:300,classes:{clone:"headhesive",stick:"headhesive--stick",unstick:"headhesive--unstick"},throttle:250,onInit:function(){},onStick:function(){},onUnstick:function(){},onDestroy:function(){}},this.elem="string"==typeof s?e.querySelector(s):s,this.options=o(this.options,i),this.init())};c.prototype={constructor:c,init:function(){if(this.clonedElem=this.elem.cloneNode(!0),this.clonedElem.className+=" "+this.options.classes.clone,e.body.insertBefore(this.clonedElem,e.body.firstChild),"number"==typeof this.options.offset)this.scrollOffset=this.options.offset;else{if("string"!=typeof this.options.offset)throw new Error("Invalid offset: "+this.options.offset);this.scrollOffset=i(e.querySelector(this.options.offset))}this._throttleUpdate=n(this.update.bind(this),this.options.throttle),t.addEventListener("scroll",this._throttleUpdate,!1),this.options.onInit.call(this)},destroy:function(){e.body.removeChild(this.clonedElem),t.removeEventListener("scroll",this._throttleUpdate),this.options.onDestroy.call(this)},stick:function(){this.visible||(this.clonedElem.className=this.clonedElem.className.replace(new RegExp("(^|\\s)*"+this.options.classes.unstick+"(\\s|$)*","g"),""),this.clonedElem.className+=" "+this.options.classes.stick,this.visible=!0,this.options.onStick.call(this))},unstick:function(){this.visible&&(this.clonedElem.className=this.clonedElem.className.replace(new RegExp("(^|\\s)*"+this.options.classes.stick+"(\\s|$)*","g"),""),this.clonedElem.className+=" "+this.options.classes.unstick,this.visible=!1,this.options.onUnstick.call(this))},update:function(){l()>this.scrollOffset?this.stick():this.unstick()}},t.Headhesive=c,"function"==typeof t.define&&t.define.amd&&t.define("Headhesive",[],function(){return t.Headhesive})}(window,document);